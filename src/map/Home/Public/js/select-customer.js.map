{"version":3,"sources":["Home/Public/js/select-customer.js"],"names":["layui","define","e","c","o","layer","t","table","a","form","l","laypage","s","$","get","parseJSON","error","data","tips","msg","r","console","log","list","render","elem","page","limit","pageSize","cellMinWidth","height","cols","field","width","fixed","templet","title","company","company_name","on","prop","i","_i","find","count","curr","layout","jump","val","trim","name","start","n","open","type","area","content","success","click","yes","length","parent","index","close","initInput","this","id","siblings"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/select-customer.js","sourcesContent":["\"use strict\";\nlayui.define([\"layer\", \"table\", \"form\", \"laypage\"], function (e) {\n  var c,\n      o = layui.layer,\n      t = layui.table,\n      a = layui.form,\n      l = layui.laypage,\n      s = function s(e, t) {\n    $.get(\"/Admin/Customer/customerList\", e, function (e) {\n      0 === (e = $.parseJSON(e)).error ? (c = e.data, t(e.data)) : o.tips(e.msg, \".modal-search-btn\");\n    });\n  },\n      r = function r(e) {\n    console.log(\"datalist\", e.list), t.render({ elem: \".select-modal-table\", data: e.list, page: !1, limit: e.pageSize, cellMinWidth: 160, height: \"320\", cols: [[{ field: \"checkbox\", width: 50, fixed: \"left\", templet: '<div><input class=\"select-modal-checkbox\" lay-filter=\"c_check\" type=\"checkbox\" name=\"\" lay-skin=\"primary\"></div>' }, { field: \"id\", title: \"id\", width: 160 }, { field: \"user_name\", title: \"客户账号\", width: 160 }, { field: \"nick_name\", title: \"客户名称\", width: 160, templet: function templet(e) {\n          return e.company ? e.company.company_name : \"\";\n        } }, { field: \"nick_name\", title: \"公司名称\", width: 160 }, { field: \"user_mobile\", title: \"联系电话\", width: 160 }, { field: \"user_type\", title: \"客户类型\", width: 160 }]] }), a.on(\"checkbox(c_check)\", function (e) {\n      $(\".select-modal-checkbox\").prop(\"checked\", !1), $(e.elem).prop(\"checked\", !0), a.render(\"checkbox\");\n    });\n  },\n      i = function i(_i) {\n    l.render({ elem: $(\".layui-layer-content\").find(\".select-modal-page\")[0], limit: _i.pageSize, count: _i.count, curr: _i.page, layout: [\"prev\", \"page\", \"next\"], jump: function jump(e, t) {\n        var a = $(\".modal-search-input\").val().trim();t || s({ page: e.curr, pageSize: _i.pageSize, name: a || \"\" }, function (e) {\n          r(e);\n        });\n      } });\n  };e(\"selectCustomer\", { start: function start(n) {\n      o.open({ title: \"选择客户\", type: 0, area: [\"640px\", \"540px\"], content: '<div class=\"select-modal-container\"> <div class=\"select-modal-box\"> <div class=\"select-search-container\"><input class=\"layui-input modal-search-input\" type=\"text\" placeholder=\"输入客户信息检索\"><div class=\"layui-btn-group\" style=\"margin-top:-4px\"> <button class=\"layui-btn modal-search-btn\">搜索</button> <button class=\"layui-btn layui-btn-primary modal-clear-btn\">清空</button> </div></div><table lay-filter=\"select-modal-table\" class=\"select-modal-table\"></table> <div class=\"select-modal-page\"></div> </div> </div>', success: function success() {\n          $(\".modal-search-btn\").click(function () {\n            var e = {},\n                t = $(\".modal-search-input\").val().trim();t && (e.name = t), s(e, function (e) {\n              r(e), i(e);\n            });\n          }), $(\".modal-clear-btn\").on(\"click\", function () {\n            $(\".modal-search-input\").val(\"\"), s({}, function (e) {\n              r(e), i(e);\n            });\n          }), s({}, function (e) {\n            r(e), i(e);\n          });\n        }, yes: function yes(e, t) {\n          var a = $(\".layui-layer-content .select-modal-checkbox:checked\");if (a.length) {\n            var i = a.parent().parent().parent().index(),\n                l = c.list[i];n(l), o.close(e);\n          } else o.tips(\"请勾选需要操作的数据\", \".layui-layer-btn0\");\n        } });\n    }, initInput: function initInput(e, a, i) {\n      var l = this;e = e || \".jl-select-customer\", i = i || \"user_name\", $(e).click(function () {\n        var t = $(this);l.start(function (e) {\n          t.val(e[i]), t.data(\"id\", e.id), t.siblings(\"input\") && t.siblings(\"input\").val(e.id), a && a(e);\n        });\n      });\n    } });\n});"]}