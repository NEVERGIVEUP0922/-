{"version":3,"sources":["Home/Public/js/address-select.js"],"names":["define","$","district","address","init","$container","code","area","address_data","getData","$first","find","$second","$third","$input","first_option","each","DISTRICT","index","value","name","children","html","on","$this","this","parent","hasClass","removeClass","addClass","data","siblings","text","cell","show","buildSecondHtml","val","next","change","hide","active","second_option","index1","index2","buildThirdHtml","third_option","index3","province","getProvince","city","getCity"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/address-select.js","sourcesContent":["'use strict';\n\ndefine(['jquery', 'Toolkit/district', 'Toolkit/handle-district', 'css!Home/Public/css/select_address.css'], function ($, district, address) {\n    return {\n        init: function init($container, code, area) {\n            //初始化地址导入\n            var address_data = address.getData(code);\n            //html初始化\n            var $first = $container.find('.js-select-first');\n            var $second = $container.find('.js-select-second');\n            var $third = $container.find('.js-select-third');\n            var $input = $container.find('.js-selector-input');\n            var first_option = '';\n            $.each(DISTRICT, function (index, value) {\n                if (value.name === address_data[0]) {\n                    first_option += '<li class=\"lj-active-li\" data-index=\"' + index + '\">' + value.name + '</li>';\n                } else {\n                    first_option += '<li data-index=\"' + index + '\">' + value.name + '</li>';\n                }\n            });\n            $first.children('.lj-option-box').html(first_option);\n            $container.find('.jl-y-select-title').on('click', function () {\n                var $this = $(this);\n                if ($this.parent().hasClass('jl-y-select-active')) {\n                    $this.parent().removeClass('jl-y-select-active');\n                } else {\n                    $container.find('.jl-y-select').removeClass('jl-y-select-active');\n                    $this.parent().addClass('jl-y-select-active');\n                }\n            });\n            //第一层\n            $first.find('.lj-option-box').on('click', 'li', function () {\n                var $this = $(this);\n                var index = $this.data('index');\n                $this.addClass('lj-active-li').siblings().removeClass('lj-active-li');\n                $first.removeClass('jl-y-select-active').children('.jl-y-select-title').children('.jl-c-c').text($this.text());\n                //第二层初始化\n                if (DISTRICT[index].cell) {\n                    $second.show();\n                    $third.show();\n                    buildSecondHtml(DISTRICT[index].cell);\n                    $second.children('.jl-y-select-title').children('.jl-c-c').text('请选择');\n                    $third.children('.jl-y-select-title').children('.jl-c-c').text('请选择');\n                    if ($input.val() !== '') {\n                        $input.val('').next(\"input\").val('');\n                        $input.change();\n                    }\n                } else {\n                    $input.val(DISTRICT[index].code).next(\"input\").val(DISTRICT[index].name);\n                    $input.change();\n                    $second.hide();\n                    $third.hide();\n                }\n            });\n            var buildSecondHtml = function buildSecondHtml(data, active) {\n                var second_option = '';\n                $.each(data, function (index, value) {\n                    if (active && active === value.name) {\n                        second_option += '<li class=\"lj-active-li\" data-index=\"' + index + '\">' + value.name + '</li>';\n                    } else {\n                        second_option += '<li data-index=\"' + index + '\">' + value.name + '</li>';\n                    }\n                });\n                $second.children('.lj-option-box').html(second_option);\n            };\n            //第二层\n            $second.find('.lj-option-box').on('click', 'li', function () {\n                var $this = $(this);\n                var index1 = $first.find('.lj-active-li').data('index');\n                var index2 = $this.data('index');\n                $this.addClass('lj-active-li').siblings().removeClass('lj-active-li');\n                $second.removeClass('jl-y-select-active').children('.jl-y-select-title').children('.jl-c-c').text($this.text());\n                //初始化第三层\n                if (DISTRICT[index1].cell[index2].cell) {\n                    $third.show();\n                    buildThirdHtml(DISTRICT[index1].cell[index2].cell);\n                    $third.children('.jl-y-select-title').children('.jl-c-c').text('请选择');\n                    if ($input.val() !== '') {\n                        $input.val('').next(\"input\").val('');\n                        $input.change();\n                    }\n                } else {\n                    $third.hide();\n                    $input.val(DISTRICT[index1].cell[index2].code).next(\"input\").val(DISTRICT[index1].name + \" \" + DISTRICT[index1].cell[index2].name);\n                    $input.change();\n                }\n            });\n            var buildThirdHtml = function buildThirdHtml(data, active) {\n                var third_option = '';\n                $.each(data, function (index, value) {\n                    if (active && active === value.name) {\n                        third_option += '<li class=\"lj-active-li\" data-index=\"' + index + '\">' + value.name + '</li>';\n                    } else {\n                        third_option += '<li data-index=\"' + index + '\">' + value.name + '</li>';\n                    }\n                });\n                $third.children('.lj-option-box').html(third_option);\n            };\n            //第三层\n            $third.find('.lj-option-box').on('click', 'li', function () {\n                var $this = $(this);\n                var index1 = $first.find('.lj-active-li').data('index');\n                var index2 = $second.find('.lj-active-li').data('index');\n                var index3 = $this.data('index');\n                $this.addClass('lj-active-li').siblings().removeClass('lj-active-li');\n                $input.val(DISTRICT[index1].cell[index2].cell[index3].code).next(\"input\").val(DISTRICT[index1].name + \" \" + DISTRICT[index1].cell[index2].name + \" \" + DISTRICT[index1].cell[index2].cell[index3].name);\n                $input.change();\n                $third.removeClass('jl-y-select-active').children('.jl-y-select-title').children('.jl-c-c').text($this.text());\n            });\n            //触发初始化数据\n            if (code) {\n                $input.val(code).next(\"input\").val(area);\n                $first.find('.jl-y-select-title').children('span').text(address_data[0]);\n                if (address_data[1]) {\n                    $second.find('.jl-y-select-title').children('span').text(address_data[1]);\n                    var province = address.getProvince(code);\n                    buildSecondHtml(province.cell, address_data[1]);\n                } else {\n                    $second.hide();\n                }\n                if (address_data[2]) {\n                    $third.find('.jl-y-select-title').children('span').text(address_data[2]);\n                    var city = address.getCity(code);\n                    buildThirdHtml(city.cell, address_data[2]);\n                } else {\n                    $third.hide();\n                }\n            }\n        }\n    };\n});\n/*\r\n<div class=\"jl-c-de js-自定义\">\r\n                        <input type=\"text\" class=\"js-selector-input jl-c-hidden jl-y-select-input\"\r\n                               name=\"area_code\"  placeholder=\"\" data-title=\"所在地址\">\r\n                        <div class=\"jl-c-address jl-y-select js-select-first\">\r\n                            <div class=\"jl-y-select-title\">\r\n                                <span class=\"jl-c-c  text-ellipsis\">请选择</span>\r\n                                <b class=\"jl-top-tri\"></b>\r\n                                <b class=\"jl-bottom-tri\"></b>\r\n                            </div>\r\n                            <ul class=\"lj-option-box\"></ul>\r\n                        </div>\r\n                        <div class=\"jl-c-address jl-y-select js-select-second\">\r\n                            <div class=\"jl-y-select-title\">\r\n                                <span class=\"jl-c-c text-ellipsis\">请选择</span>\r\n                                <b class=\"jl-top-tri\"></b>\r\n                                <b class=\"jl-bottom-tri\"></b>\r\n                            </div>\r\n                            <ul class=\"lj-option-box\"></ul>\r\n                        </div>\r\n                        <div class=\"jl-c-address jl-y-select js-select-third\">\r\n                            <div class=\"jl-y-select-title\">\r\n                                <span class=\"jl-c-c text-ellipsis\">请选择</span>\r\n                                <b class=\"jl-top-tri\"></b>\r\n                                <b class=\"jl-bottom-tri\"></b>\r\n                            </div>\r\n                            <ul class=\"lj-option-box\"></ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                 require(['Public/js/address-select'],function (address) {\r\n                    address.init($('.js-selector-container2'))\r\n                    address.init($('.js-selector-container2')，地址的code)\r\n                });\r\n*/"]}