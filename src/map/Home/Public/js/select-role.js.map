{"version":3,"sources":["Home/Public/js/select-role.js"],"names":["layui","define","e","n","o","layer","t","table","l","form","a","laypage","i","commonTpl","r","$","get","parseJSON","error","data","tips","msg","s","render","elem","list","page","limit","pageSize","cellMinWidth","height","cols","field","width","fixed","templet","title","oneZero","is_disabled","on","prop","d","find","count","curr","layout","jump","start","c","open","type","area","content","success","click","val","trim","role_id","yes","length","parent","index","close","initInput","this"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/select-role.js","sourcesContent":["\"use strict\";\nlayui.define([\"layer\", \"table\", \"form\", \"laypage\", \"commonTpl\"], function (e) {\n  var n,\n      o = layui.layer,\n      t = layui.table,\n      l = layui.form,\n      a = layui.laypage,\n      i = layui.commonTpl,\n      r = function r(e, t) {\n    $.get(\"/Admin/Sys/roleList\", e, function (e) {\n      0 === (e = $.parseJSON(e)).error ? (n = e.data, t(e.data)) : o.tips(e.msg, \".modal-search-btn\");\n    });\n  },\n      s = function s(e) {\n    t.render({ elem: \".select-modal-table\", data: e.list, page: !1, limit: e.pageSize, cellMinWidth: 160, height: \"320\", cols: [[{ field: \"checkbox\", width: 50, fixed: \"left\", templet: '<div><input class=\"select-modal-checkbox\" lay-filter=\"c_check\" type=\"checkbox\" name=\"\" lay-skin=\"primary\"></div>' }, { field: \"role_id\", title: \"ID\", width: 100 }, { field: \"role_name\", title: \"角色名称\", width: 160 }, { field: \"role_desc\", title: \"角色描述\", width: 160 }, { field: \"role_level\", title: \"角色等级\", width: 160 }, { field: \"is_disabled\", title: \"是否禁用\", width: 160, templet: function templet(e) {\n          return i.oneZero(e.is_disabled);\n        } }]] }), l.on(\"checkbox(c_check)\", function (e) {\n      $(\".select-modal-checkbox\").prop(\"checked\", !1), $(e.elem).prop(\"checked\", !0), l.render(\"checkbox\");\n    });\n  },\n      d = function d(l) {\n    a.render({ elem: $(\".layui-layer-content\").find(\".select-modal-page\")[0], limit: l.pageSize, count: l.count, curr: l.page, layout: [\"prev\", \"page\", \"next\"], jump: function jump(e, t) {\n        t || r({ page: e.curr, pageSize: l.pageSize }, function (e) {\n          s(e);\n        });\n      } });\n  };e(\"selectRole\", { start: function start(c) {\n      o.open({ title: \"选择角色\", type: 0, area: [\"640px\", \"540px\"], content: '<div class=\"select-modal-container\"> <div class=\"select-modal-box\"> <div class=\"select-search-container\"><input class=\"layui-input modal-search-input\" type=\"text\" placeholder=\"输入角色编号检索\"><div class=\"layui-btn-group\"> <button class=\"layui-btn modal-search-btn\">搜索</button> <button class=\"layui-btn layui-btn-primary modal-clear-btn\">清空</button> </div></div><table lay-filter=\"select-modal-table\" class=\"select-modal-table\"></table> <div class=\"select-modal-page\"></div> </div> </div>', success: function success() {\n          $(\".modal-search-btn\").click(function () {\n            var e = {},\n                t = $(\".modal-search-input\").val().trim();t && (e.role_id = t), r(e, function (e) {\n              s(e), d(e);\n            });\n          }), $(\".modal-clear-btn\").on(\"click\", function () {\n            $(\".modal-search-input\").val(\"\"), r({}, function (e) {\n              s(e), d(e);\n            });\n          }), r({}, function (e) {\n            s(e), d(e);\n          });\n        }, yes: function yes(e, t) {\n          var l = $(\".layui-layer-content .select-modal-checkbox:checked\");if (l.length) {\n            var a = l.parent().parent().parent().index(),\n                i = n.list[a];c(i), o.close(e);\n          } else o.tips(\"请勾选需要操作的数据\", \".layui-layer-btn0\");\n        } });\n    }, initInput: function initInput(e, l, a) {\n      var i = this;e = e || \".jl-select-role\", a = a || \"role_name\", $(e).click(function () {\n        var t = $(this);i.start(function (e) {\n          t.val(e[a]), l && l(e, t);\n        });\n      });\n    } });\n});"]}