{"version":3,"sources":["Home/Public/js/select-pm.js"],"names":["layui","define","e","c","n","o","layer","t","table","i","form","a","laypage","r","$","get","parseJSON","error","data","tips","msg","d","render","elem","list","page","limit","pageSize","cellMinWidth","height","cols","field","width","fixed","templet","title","departmentInfo","department_name","on","prop","start","l","open","type","area","content","success","find","count","curr","layout","jump","yes","length","each","this","parent","index","push","close","initInput","attr","JSON","stringify","setTimeout","click","val","id","siblings","uid"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/select-pm.js","sourcesContent":["\"use strict\";\nlayui.define([\"layer\", \"table\", \"form\", \"laypage\"], function (e) {\n  var c,\n      n,\n      o = layui.layer,\n      t = layui.table,\n      i = layui.form,\n      a = layui.laypage,\n      r = function r(e, t) {\n    $.get(\"/Admin/Sysuser/productLiablePersionList\", e, function (e) {\n      0 === (e = $.parseJSON(e)).error ? (c = e.data, t(e.data)) : o.tips(e.msg, \".modal-search-btn\");\n    });\n  },\n      d = function d(e) {\n    t.render({ elem: \".select-modal-table\", data: e.list, page: !1, limit: e.pageSize, cellMinWidth: 160, height: \"360\", cols: [[{ field: \"checkbox\", width: 50, fixed: \"left\", templet: '<div><input class=\"select-modal-checkbox\" lay-filter=\"c_check\" type=\"checkbox\" name=\"\" lay-skin=\"primary\"></div>' }, { field: \"uid\", title: \"编号\" }, { field: \"femplname\", title: \"产品负责人\" }, { field: \"mobile\", title: \"电话\" }, { field: \"email\", title: \"邮箱\" }, { field: \"department_name\", title: \"部门\", templet: function templet(e) {\n          return e.departmentInfo ? e.departmentInfo.department_name : \"\";\n        } }]] }), i.on(\"checkbox(c_check)\", function (e) {\n      var t = $(\".select-modal-checkbox\");n ? $(e.elem).prop(\"checked\") ? $(e.elem).prop(\"checked\", !0) : $(e.elem).prop(\"checked\", !1) : (t.prop(\"checked\", !1), $(e.elem).prop(\"checked\", !0)), i.render(\"checkbox\");\n    });\n  };e(\"selectPm\", { start: function start(l) {\n      o.open({ title: \"选择产品负责人\", type: 0, area: [\"640px\", \"535px\"], content: '<div class=\"select-modal-container\"> <div class=\"select-modal-box\"> <table lay-filter=\"select-modal-table\" class=\"select-modal-table\"></table> <div class=\"select-modal-page\"></div> </div> </div>', success: function success() {\n          r({}, function (e) {\n            var i;d(e), i = e, a.render({ elem: $(\".layui-layer-content\").find(\".select-modal-page\")[0], limit: i.pageSize, count: i.count, curr: i.page, layout: [\"prev\", \"page\", \"next\"], jump: function jump(e, t) {\n                t || r({ page: e.curr, pageSize: i.pageSize }, function (e) {\n                  d(e);\n                });\n              } });\n          });\n        }, yes: function yes(e, t) {\n          var i = $(\".layui-layer-content .select-modal-checkbox:checked\");if (i.length) {\n            var a = [];i.each(function () {\n              var e;e = $(this).parent().parent().parent().index(), a.push(c.list[e]);\n            }), l(a), o.close(e);\n          } else o.tips(\"请勾选需要操作的数据\", \".layui-layer-btn0\");\n        } });\n    }, initInput: function initInput(e, i, a, t) {\n      var l = this;e = e || \".jl-select-pm\", a = a || \"uid\", (n = t) && l.start(function (e) {\n        t.attr(\"data-val\", JSON.stringify(e)), setTimeout(function () {\n          i && i(e);\n        }, 10);\n      }), $(e).click(function () {\n        var t = $(this);l.start(function (e) {\n          e = e[0];t.val(e[a]), t.data(\"id\", e.id), t.siblings(\"input\") && t.siblings(\"input\").val(e.uid), i && i(e, t);\n        });\n      });\n    } });\n});"]}