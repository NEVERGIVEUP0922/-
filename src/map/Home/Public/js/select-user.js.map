{"version":3,"sources":["Home/Public/js/select-user.js"],"names":["layui","define","e","c","s","layer","t","table","l","form","i","laypage","o","$","get","parseJSON","error","data","tips","msg","r","console","log","list","render","elem","page","limit","pageSize","cellMinWidth","height","cols","field","width","fixed","templet","title","on","prop","a","_a","find","count","curr","layout","jump","val","trim","name","start","n","open","type","area","content","success","click","yes","length","parent","index","close","initInput","this","siblings","uid","id"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/select-user.js","sourcesContent":["\"use strict\";\nlayui.define([\"layer\", \"table\", \"form\", \"laypage\"], function (e) {\n  var c,\n      s = layui.layer,\n      t = layui.table,\n      l = layui.form,\n      i = layui.laypage,\n      o = function o(e, t) {\n    $.get(\"/Admin/Sysuser/sysUserList\", e, function (e) {\n      0 === (e = $.parseJSON(e)).error ? (c = e.data, t(e.data)) : s.tips(e.msg, \".modal-search-btn\");\n    });\n  },\n      r = function r(e) {\n    console.log(e.list), t.render({ elem: \".select-modal-table\", data: e.list, page: !1, limit: e.pageSize, cellMinWidth: 160, height: \"320\", cols: [[{ field: \"checkbox\", width: 50, fixed: \"left\", templet: '<div><input class=\"select-modal-checkbox\" lay-filter=\"c_check\" type=\"checkbox\" name=\"\" lay-skin=\"primary\"></div>' }, { field: \"uid\", title: \"序号\" }, { field: \"nickname\", title: \"系统显示名称\" }, { field: \"fullname\", title: \"业务员名称\" }, { field: \"user_name\", title: \"用户登录名\" }, { field: \"department_id\", title: \"部门编号\" }, { field: \"mobile\", title: \"手机\" }, { field: \"email\", title: \"用户邮箱\" }, { field: \"FEmplNo\", title: \"ERP用户编号\" }]] }), l.on(\"checkbox(c_check)\", function (e) {\n      $(\".select-modal-checkbox\").prop(\"checked\", !1), $(e.elem).prop(\"checked\", !0), l.render(\"checkbox\");\n    });\n  },\n      a = function a(_a) {\n    i.render({ elem: $(\".layui-layer-content\").find(\".select-modal-page\")[0], limit: _a.pageSize, count: _a.count, curr: _a.page, layout: [\"prev\", \"page\", \"next\"], jump: function jump(e, t) {\n        var l = $(\".modal-search-input\").val().trim();t || o({ page: e.curr, pageSize: _a.pageSize, name: l || \"\" }, function (e) {\n          r(e);\n        });\n      } });\n  };e(\"selectUser\", { start: function start(n) {\n      s.open({ title: \"选择业务员\", type: 0, area: [\"640px\", \"540px\"], content: '<div class=\"select-modal-container\"> <div class=\"select-modal-box\"> <div class=\"select-search-container\"><input class=\"layui-input modal-search-input\" type=\"text\" placeholder=\"输入业务员信息检索\"><div class=\"layui-btn-group\" style=\"margin-top:-4px\"> <button class=\"layui-btn modal-search-btn\">搜索</button> <button class=\"layui-btn layui-btn-primary modal-clear-btn\">清空</button> </div></div><table lay-filter=\"select-modal-table\" class=\"select-modal-table\"></table> <div class=\"select-modal-page\"></div> </div> </div>', success: function success() {\n          $(\".modal-search-btn\").click(function () {\n            var e = {},\n                t = $(\".modal-search-input\").val().trim();t && (e.name = t), o(e, function (e) {\n              r(e), a(e);\n            });\n          }), $(\".modal-clear-btn\").on(\"click\", function () {\n            $(\".modal-search-input\").val(\"\"), o({}, function (e) {\n              r(e), a(e);\n            });\n          }), o({}, function (e) {\n            r(e), a(e);\n          });\n        }, yes: function yes(e, t) {\n          var l = $(\".layui-layer-content .select-modal-checkbox:checked\");if (l.length) {\n            var a = l.parent().parent().parent().index(),\n                i = c.list[a];n(i), s.close(e);\n          } else s.tips(\"请勾选需要操作的数据\", \".layui-layer-btn0\");\n        } });\n    }, initInput: function initInput(e, l, a) {\n      var i = this;e = e || \".jl-select-user\", a = a || \"user_name\", $(e).click(function () {\n        var t = $(this);i.start(function (e) {\n          t.val(e[a]), t.siblings(\"input\") && t.siblings(\"input\").val(e.uid), t.data(\"id\", e.id), l && l(e);\n        });\n      });\n    } });\n});"]}