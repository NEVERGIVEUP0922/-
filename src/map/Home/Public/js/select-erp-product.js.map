{"version":3,"sources":["Home/Public/js/select-erp-product.js"],"names":["layui","define","e","i","n","layer","t","table","l","form","a","laypage","o","r","$","get","parseJSON","error","data","console","log","tips","msg","s","render","elem","list","page","limit","pageSize","cellMinWidth","height","cols","field","width","fixed","templet","title","on","prop","d","find","count","curr","layout","jump","start","c","open","type","area","content","success","click","val","trim","fitemno","yes","length","each","this","parent","index","push","close","initInput","addRow"],"mappings":"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","file":"../../../../../temporaryJs/Home/Public/js/select-erp-product.js","sourcesContent":["\"use strict\";\nlayui.define([\"layer\", \"table\", \"form\", \"laypage\"], function (e) {\n  var i,\n      n = layui.layer,\n      t = layui.table,\n      l = layui.form,\n      a = layui.laypage,\n      o = \"\",\n      r = function r(e, t) {\n    $.get(\"/Admin/ErpProduct/erpProductList\", e, function (e) {\n      0 === (e = $.parseJSON(e)).error ? (i = e.data, console.log(e.data), t(e.data)) : n.tips(e.msg, \".modal-search-btn\");\n    });\n  },\n      s = function s(e) {\n    t.render({ elem: \".select-modal-table\", data: e.list, page: !1, limit: e.pageSize, cellMinWidth: 160, height: \"320\", cols: [[{ field: \"checkbox\", width: 50, fixed: \"left\", templet: '<div><input class=\"select-modal-checkbox\" lay-filter=\"c_check\" type=\"checkbox\" name=\"\" lay-skin=\"primary\"></div>' }, { field: \"fitemno\", title: \"erp型号\", width: 220 }, { field: \"fstcb\", title: \"标准成本\", width: 160 }, { field: \"store\", title: \"库存\", width: 100 }, { field: \"last_time\", title: \"更新时间\", width: 160 }, { field: \"create_time\", title: \"创建时间\", width: 160 }]] }), l.on(\"checkbox(c_check)\", function (e) {\n      var t = $(\".select-modal-checkbox\");\"edit\" == o ? (t.prop(\"checked\", !1), $(e.elem).prop(\"checked\", !0)) : $(e.elem).prop(\"checked\") ? $(e.elem).prop(\"checked\", !0) : $(e.elem).prop(\"checked\", !1), l.render(\"checkbox\");\n    });\n  },\n      d = function d(l) {\n    a.render({ elem: $(\".layui-layer-content\").find(\".select-modal-page\")[0], limit: l.pageSize, count: l.count, curr: l.page, layout: [\"prev\", \"page\", \"next\"], jump: function jump(e, t) {\n        t || r({ page: e.curr, pageSize: l.pageSize }, function (e) {\n          s(e);\n        });\n      } });\n  };e(\"selectErpProduct\", { start: function start(c) {\n      n.open({ title: \"选择erp商品\", type: 0, area: [\"640px\", \"70%\"], content: '<div class=\"select-modal-container\"> <div class=\"select-modal-box\"> <div class=\"select-search-container\"><input class=\"layui-input modal-search-input\" type=\"text\" placeholder=\"输入ERP型号检索\"><div class=\"layui-btn-group\"> <button class=\"layui-btn modal-search-btn\">搜索</button> <button class=\"layui-btn layui-btn-primary modal-clear-btn\">清空</button> </div></div><table lay-filter=\"select-modal-table\" class=\"select-modal-table\"></table> <div class=\"select-modal-page\"></div> </div> </div>', success: function success() {\n          $(\".modal-search-btn\").click(function () {\n            var e = {},\n                t = $(\".modal-search-input\").val().trim();t && (e.fitemno = t), r(e, function (e) {\n              s(e), d(e);\n            });\n          }), r({}, function (e) {\n            s(e), d(e);\n          });\n        }, yes: function yes(e, t) {\n          var l = $(\".layui-layer-content .select-modal-checkbox:checked\");if (l.length) {\n            var a = [];l.each(function () {\n              var e;e = $(this).parent().parent().parent().index(), a.push(i.list[e]);\n            }), c(a), n.close(e);\n          } else n.tips(\"请勾选需要操作的数据\", \".layui-layer-btn0\");\n        } });\n    }, initInput: function initInput(e, t, a, l) {\n      this.addRow = a;var c = this;o = l, $(e || \".jl-select-erp-product\").click(function () {\n        var l = $(this);c.start(function (e) {\n          console.log(e), $.each(e, function (e, t) {\n            a && a(t, l, e);\n          }), t && t(e, l);\n        });\n      });\n    } });\n});"]}