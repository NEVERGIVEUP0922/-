{"version":3,"sources":["Home/Public/js/search.js"],"names":["define","$","data","request","result_count","children","html","on","input_key","val","trim","$submit","find","type","parseInt","prop","trigger","focus","document","keydown","event","keyCode","show","click","this","addClass","siblings","removeClass","dataNum","attr","hide","window","scroll","scrollTop","fadeIn","fadeOut","$brand_id","$input","parent","cat_id","css"],"mappings":"AAAA,aAEAA,OAAO,CAAC,UAAW,SAAUC,GACzB,OAAO,SAAUC,EAAMC,GACnB,IAAIC,EAAeH,EAAE,aAAaI,WAAWC,OAE7CL,EAAE,qBAAqBM,GAAG,QAAS,WAC/B,IAAIC,EAAYP,EAAE,gBAAgBQ,MAAMC,OACpCC,EAAUV,EAAE,cAChBU,EAAQC,KAAK,wBAAwBH,IAAID,GACzC,IAAIK,EAAOC,SAASb,EAAE,mBAAmBI,SAAS,cAAcH,KAAK,SACxD,IAATW,EACAF,EAAQC,KAAK,6BAA6BG,KAAK,YAAY,GAAON,IAAI,aACtD,IAATI,EACPF,EAAQC,KAAK,6BAA6BG,KAAK,YAAY,GAAON,IAAI,aACtD,IAATI,EACPF,EAAQC,KAAK,6BAA6BG,KAAK,YAAY,GAAON,IAAI,gBAEtEE,EAAQC,KAAK,6BAA6BG,KAAK,YAAY,GAAON,IAAI,aAE1EE,EAAQK,QAAQ,YAEpBf,EAAE,gBAAgBgB,MAAM,WACpBhB,EAAEiB,UAAUC,QAAQ,SAAUC,GACJ,KAAlBA,EAAMC,SACNpB,EAAE,qBAAqBe,QAAQ,aAIvCb,EAC8B,aAA1BA,EAAqB,cAEY,gBAA1BA,EAAqB,YAC5BF,EAAE,iBAAiBqB,KAAK,KAGxBrB,EAAE,cAAcqB,KAAK,MAGzBrB,EAAE,cAAcqB,KAAK,KAEzBrB,EAAE,sBAAsBsB,MAAM,WAC1BtB,EAAEuB,MAAMC,SAAS,aAAaC,WAAWC,YAAY,aACrD,IACIC,EAAU3B,EAAEuB,MAAMK,KAAK,aAG3B5B,EADuB,GAAX2B,EAAe,aAA0B,GAAXA,EAAe,aAAe,iBAC3DN,OAAOI,SAAS,MAAMI,SAQvC7B,EAAE8B,QAAQC,OAAO,SAAUZ,GAET,KADDnB,EAAE8B,QAAQE,YAGnBhC,EAAE,kBAAkBiC,OAAO,QAE3BjC,EAAE,kBAAkBkC,QAAQ,UAIpClC,EAAE,oBAAoBM,GAAG,QAAS,WAC9B,IAAIC,EAAYP,EAAE,iBAAiBQ,MACnCR,EAAE,iCAAiCQ,IAAID,GACvCP,EAAE,cAAce,QAAQ,YAE5Bf,EAAE,iBAAiBgB,MAAM,WACrBhB,EAAEiB,UAAUC,QAAQ,SAAUC,GACJ,KAAlBA,EAAMC,SACNpB,EAAE,oBAAoBe,QAAQ,aAI1C,IAAIoB,EAAYnC,EAAE,mCAClBA,EAAE,gCAAgCM,GAAG,QAAS,WAC1C,IAAI8B,EAASpC,EAAEuB,MAAMc,SAAST,KAAK,WACnCO,EAAU3B,IAAI4B,GACdpC,EAAE,cAAce,QAAQ,YAG5Bf,EAAE,iBAAiBM,GAAG,QAAS,WAC3B,IAAIgC,EAAStC,EAAEuB,MAAMK,KAAK,WAC1B5B,EAAE,uBAAuBQ,IAAI8B,GAC7BtC,EAAE,cAAce,QAAQ,YAER,GAAhBZ,IACAH,EAAE,mBAAmBuC,IAAI,UAAW,QACpCvC,EAAE,kBAAkBuC,IAAI,UAAW","file":"../../../../../temporaryJs/Home/Public/js/search.js","sourcesContent":["'use strict';\n\ndefine(['jquery'], function ($) {\n    return function (data, request) {\n        var result_count = $('.jl-count').children().html();\n        //头部搜索框\n        $('.jl-submit-search').on('click', function () {\n            var input_key = $('.jl-key-word').val().trim();\n            var $submit = $('#js-submit');\n            $submit.find('input[name=\"search\"]').val(input_key);\n            var type = parseInt($('.jl-search-type').children('.jl-active').data('type'));\n            if (type === 1) {\n                $submit.find('input[name=\"search_type\"]').prop('disabled', false).val('hot_brand');\n            } else if (type === 2) {\n                $submit.find('input[name=\"search_type\"]').prop('disabled', false).val('hot_pSign');\n            } else if (type === 3) {\n                $submit.find('input[name=\"search_type\"]').prop('disabled', false).val('hot_function');\n            } else {\n                $submit.find('input[name=\"search_type\"]').prop('disabled', false).val('hot_pSign');\n            }\n            $submit.trigger('submit');\n        });\n        $('.jl-key-word').focus(function () {\n            $(document).keydown(function (event) {\n                if (event.keyCode === 13) {\n                    $('.jl-submit-search').trigger('click');\n                }\n            });\n        });\n        if (request) {\n            if (request['search_type'] == \"hot_pSign\") {\n                // $(\".hot_pSign\").show(100);\n            } else if (request['search_type'] == \"hot_function\") {\n                $(\".hot_function\").show(100);\n                //$(\".search-hot\").slideDown(500);\n            } else {\n                $(\".hot_brand\").show(100);\n            };\n        } else {\n            $(\".hot_pSign\").show(100);\n        }\n        $('.jl-search-type li').click(function () {\n            $(this).addClass('jl-active').siblings().removeClass('jl-active');\n            var showNmame = \".hot_brand\";\n            var dataNum = $(this).attr(\"data-type\");\n            //alert(showNmame+\"//\"+dataNum);\n            showNmame = dataNum == 1 ? \".hot_brand\" : dataNum == 2 ? \".hot_pSign\" : \".hot_function\";\n            $(showNmame).show().siblings(\"ul\").hide();\n            /*if(dataNum==3){\r\n                $(\".search-hot\").slideDown(500)\r\n            }else{\r\n                $(\".search-hot\").slideUp(500)\r\n            }*/\n        });\n        //悬浮框\n        $(window).scroll(function (event) {\n            var height = $(window).scrollTop();\n            if (height >= 200) {\n                //alert(12332);\n                $('.js-search-nav').fadeIn(\"fast\");\n            } else {\n                $('.js-search-nav').fadeOut(\"fast\");\n            }\n        });\n        //悬浮搜索框\n        $('.jl-submit-float').on('click', function () {\n            var input_key = $('.jl-key-float').val();\n            $('#js-submit input[name=search]').val(input_key);\n            $('#js-submit').trigger('submit');\n        });\n        $('.jl-key-float').focus(function () {\n            $(document).keydown(function (event) {\n                if (event.keyCode === 13) {\n                    $('.jl-submit-float').trigger('click');\n                }\n            });\n        });\n        var $brand_id = $('#js-submit input[name=brand_id]');\n        $('.jl-hot-search a,.jl-brand a').on('click', function () {\n            var $input = $(this).parent().attr('data-id');\n            $brand_id.val($input);\n            $('#js-submit').trigger('submit');\n        });\n        //侧边栏搜索\n        $('.jl-sidebar a').on('click', function () {\n            var cat_id = $(this).attr('data-id');\n            $('input[name=cate_id]').val(cat_id);\n            $('#js-submit').trigger('submit');\n        });\n        if (result_count == 0) {\n            $('.jl-has-product').css('display', 'none');\n            $('.jl-no-product').css('display', 'block');\n        }\n    };\n});"]}