{"version":3,"sources":["Common/module/pdf_self/pdf-v-0.1/pdfmeta.js"],"names":["$","mode","document","documentMode","msie","test","navigator","userAgent","lameIE","fn","media","options","f1","f2","this","each","$this","html","data","replaceWith","o","el","a","n","$el","cls","className","meta","metadata","w","width","parseInt","match","h","height","dataName","i","attributes","length","index","trim","name","indexOf","substring","value","defaults","b","c","p","params","bgColor","opts","extend","caption","text","src","attr","getSettings","m","types","player","players","RegExp","replace","getTypesRegExp","exec","toLowerCase","type","shift","isDigit","num","autoplayAttr","autoplay","$div","css","canUndo","$temp","append","mapFormat","format","standards","wmode","attrs","flvKeyName","flashvars","flashVersion","expressInstaller","flvPlayer","mp3Player","silverlight","inplaceInstallPrompt","isWindowless","framerate","version","onError","onLoad","initParams","userContext","flash","title","mimetype","pluginspage","ieAttrs","classid","codebase","quicktime","realplayer","winmedia","plugs","plugins","plugin","isFirefoxWMPPluginInstalled","oUrl","img","iframe","counter","split","generate","key","v","push","window","location","protocol","createElement","join","appendChild","eAttrs","id","after","remove","appendTo","swf","f","SWFObject","swfobject","embedSWF","so","useExpressInstall","addParam","addVariable","write","flv","mp3","encodeURIComponent","srcObj","xaml","Sys","Silverlight","warning","alert","props","background","events","id1","id2","createObjectEx","source","parentElement","properties","jQuery"],"mappings":"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","file":"../../../../../../temporaryJs/Common/module/pdf_self/pdf-v-0.1/pdfmeta.js","sourcesContent":["/*\r\n * jQuery Media Plugin for converting elements into rich media content.\r\n *\r\n * Examples and documentation at: http://malsup.com/jquery/media/\r\n * Copyright (c) 2007-2010 M. Alsup\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n *\r\n * @author: M. Alsup\r\n * @version: 0.99 (05-JUN-2013)\r\n * @requires jQuery v1.1.2 or later\r\n * $Id: jquery.media.js 2460 2007-07-23 02:53:15Z malsup $\r\n *\r\n * Supported Media Players:\r\n *\t- Flash\r\n *\t- Quicktime\r\n *\t- Real Player\r\n *\t- Silverlight\r\n *\t- Windows Media Player\r\n *\t- iframe\r\n *\r\n * Supported Media Formats:\r\n *\t Any types supported by the above players, such as:\r\n *\t Video: asf, avi, flv, mov, mpg, mpeg, mp4, qt, smil, swf, wmv, 3g2, 3gp\r\n *\t Audio: aif, aac, au, gsm, mid, midi, mov, mp3, m4a, snd, rm, wav, wma\r\n *\t Other: bmp, html, pdf, psd, qif, qtif, qti, tif, tiff, xaml\r\n *\r\n * Thanks to Mark Hicken and Brent Pedersen for helping me debug this on the Mac!\r\n * Thanks to Dan Rossi for numerous bug reports and code bits!\r\n * Thanks to Skye Giordano for several great suggestions!\r\n * Thanks to Richard Connamacher for excellent improvements to the non-IE behavior!\r\n */\r\n/*global SWFObject alert Sys */\r\n/*jshint forin:false */\r\n;(function($) {\r\n    \"use strict\";\r\n\r\n    var mode = document.documentMode || 0;\r\n    var msie = /MSIE/.test(navigator.userAgent);\r\n    var lameIE = msie && (/MSIE (6|7|8)\\.0/.test(navigator.userAgent) || mode < 9);\r\n\r\n    /**\r\n     * Chainable method for converting elements into rich media.\r\n     *\r\n     * @param options\r\n     * @param callback fn invoked for each matched element before conversion\r\n     * @param callback fn invoked for each matched element after conversion\r\n     */\r\n    $.fn.media = function(options, f1, f2) {\r\n        if (options == 'undo') {\r\n            return this.each(function() {\r\n                var $this = $(this);\r\n                var html = $this.data('media.origHTML');\r\n                if (html)\r\n                    $this.replaceWith(html);\r\n            });\r\n        }\r\n\r\n        return this.each(function() {\r\n            if (typeof options == 'function') {\r\n                f2 = f1;\r\n                f1 = options;\r\n                options = {};\r\n            }\r\n            var o = getSettings(this, options);\r\n            // pre-conversion callback, passes original element and fully populated options\r\n            if (typeof f1 == 'function') f1(this, o);\r\n\r\n            var r = getTypesRegExp();\r\n            var m = r.exec(o.src.toLowerCase()) || [''];\r\n            var fn;\r\n\r\n            if (o.type)\r\n                m[0] = o.type;\r\n            else\r\n                m.shift();\r\n\r\n            for (var i=0; i < m.length; i++) {\r\n                fn = m[i].toLowerCase();\r\n                if (isDigit(fn[0])) fn = 'fn' + fn; // fns can't begin with numbers\r\n                if (!$.fn.media[fn])\r\n                    continue;  // unrecognized media type\r\n                // normalize autoplay settings\r\n                var player = $.fn.media[fn+'_player'];\r\n                if (!o.params) o.params = {};\r\n                if (player) {\r\n                    var num = player.autoplayAttr == 'autostart';\r\n                    o.params[player.autoplayAttr || 'autoplay'] = num ? (o.autoplay ? 1 : 0) : o.autoplay ? true : false;\r\n                }\r\n                var $div = $.fn.media[fn](this, o);\r\n\r\n                $div.css('backgroundColor', o.bgColor).width(o.width);\r\n\r\n                if (o.canUndo) {\r\n                    var $temp = $('<div></div>').append(this);\r\n                    $div.data('media.origHTML', $temp.html()); // store original markup\r\n                }\r\n\r\n                // post-conversion callback, passes original element, new div element and fully populated options\r\n                if (typeof f2 == 'function') f2(this, $div[0], o, player.name);\r\n                break;\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Non-chainable method for adding or changing file format / player mapping\r\n     * @name mapFormat\r\n     * @param String format File format extension (ie: mov, wav, mp3)\r\n     * @param String player Player name to use for the format (one of: flash, quicktime, realplayer, winmedia, silverlight or iframe\r\n     */\r\n    $.fn.media.mapFormat = function(format, player) {\r\n        if (!format || !player || !$.fn.media.defaults.players[player]) return; // invalid\r\n        format = format.toLowerCase();\r\n        if (isDigit(format[0])) format = 'fn' + format;\r\n        $.fn.media[format] = $.fn.media[player];\r\n        $.fn.media[format+'_player'] = $.fn.media.defaults.players[player];\r\n    };\r\n\r\n// global defautls; override as needed\r\n    $.fn.media.defaults = {\r\n        standards:  true,       // use object tags only (no embeds for non-IE browsers)\r\n        canUndo:    true,       // tells plugin to store the original markup so it can be reverted via: $(sel).mediaUndo()\r\n        width:\t\t400,\r\n        height:\t\t400,\r\n        autoplay:\t0,\t\t\t// normalized cross-player setting\r\n        bgColor:\t'#ffffff',\t// background color\r\n        params:\t\t{ wmode: 'transparent'},\t// added to object element as param elements; added to embed element as attrs\r\n        attrs:\t\t{},\t\t\t// added to object and embed elements as attrs\r\n        flvKeyName: 'file',\t\t// key used for object src param (thanks to Andrea Ercolino)\r\n        flashvars:\t{},\t\t\t// added to flash content as flashvars param/attr\r\n        flashVersion:\t'7',\t// required flash version\r\n        expressInstaller: null,\t// src for express installer\r\n\r\n        // default flash video and mp3 player (@see: http://jeroenwijering.com/?item=Flash_Media_Player)\r\n        flvPlayer:\t 'mediaplayer.swf',\r\n        mp3Player:\t 'mediaplayer.swf',\r\n\r\n        // @see http://msdn2.microsoft.com/en-us/library/bb412401.aspx\r\n        silverlight: {\r\n            inplaceInstallPrompt: 'true', // display in-place install prompt?\r\n            isWindowless:\t\t  'true', // windowless mode (false for wrapping markup)\r\n            framerate:\t\t\t  '24',\t  // maximum framerate\r\n            version:\t\t\t  '0.9',  // Silverlight version\r\n            onError:\t\t\t  null,\t  // onError callback\r\n            onLoad:\t\t\t      null,   // onLoad callback\r\n            initParams:\t\t\t  null,\t  // object init params\r\n            userContext:\t\t  null\t  // callback arg passed to the load callback\r\n        }\r\n    };\r\n\r\n// Media Players; think twice before overriding\r\n    $.fn.media.defaults.players = {\r\n        flash: {\r\n            name:\t\t 'flash',\r\n            title:\t\t 'Flash',\r\n            types:\t\t 'flv,mp3,swf',\r\n            mimetype:\t 'application/x-shockwave-flash',\r\n            pluginspage: 'http://www.adobe.com/go/getflashplayer',\r\n            ieAttrs: {\r\n                classid:  'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000',\r\n                type:\t  'application/x-oleobject',\r\n                codebase: 'http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=' + $.fn.media.defaults.flashVersion\r\n            }\r\n        },\r\n        quicktime: {\r\n            name:\t\t 'quicktime',\r\n            title:\t\t 'QuickTime',\r\n            mimetype:\t 'video/quicktime',\r\n            pluginspage: 'http://www.apple.com/quicktime/download/',\r\n            types:\t\t 'aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp',\r\n            ieAttrs: {\r\n                classid:  'clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B',\r\n                codebase: 'http://www.apple.com/qtactivex/qtplugin.cab'\r\n            }\r\n        },\r\n        realplayer: {\r\n            name:\t\t  'real',\r\n            title:\t\t  'RealPlayer',\r\n            types:\t\t  'ra,ram,rm,rpm,rv,smi,smil',\r\n            mimetype:\t  'audio/x-pn-realaudio-plugin',\r\n            pluginspage:  'http://www.real.com/player/',\r\n            autoplayAttr: 'autostart',\r\n            ieAttrs: {\r\n                classid: 'clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA'\r\n            }\r\n        },\r\n        winmedia: {\r\n            name:\t\t  'winmedia',\r\n            title:\t\t  'Windows Media',\r\n            types:\t\t  'asx,asf,avi,wma,wmv',\r\n            mimetype:\t  isFirefoxWMPPluginInstalled() ? 'application/x-ms-wmp' : 'application/x-mplayer2',\r\n            pluginspage:  'http://www.microsoft.com/Windows/MediaPlayer/',\r\n            autoplayAttr: 'autostart',\r\n            oUrl:\t\t  'url',\r\n            ieAttrs: {\r\n                classid:  'clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6',\r\n                type:\t  'application/x-oleobject'\r\n            }\r\n        },\r\n        // special cases\r\n        img: {\r\n            name:  'img',\r\n            title: 'Image',\r\n            types: 'gif,png,jpg'\r\n        },\r\n        iframe: {\r\n            name:  'iframe',\r\n            types: 'html,pdf'\r\n        },\r\n        silverlight: {\r\n            name:  'silverlight',\r\n            types: 'xaml'\r\n        }\r\n    };\r\n\r\n//\r\n//\teverything below here is private\r\n//\r\n\r\n\r\n// detection script for FF WMP plugin (http://www.therossman.org/experiments/wmp_play.html)\r\n// (hat tip to Mark Ross for this script)\r\n    function isFirefoxWMPPluginInstalled() {\r\n        var plugs = navigator.plugins || [];\r\n        for (var i = 0; i < plugs.length; i++) {\r\n            var plugin = plugs[i];\r\n            if (plugin['filename'] == 'np-mswmp.dll')\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var counter = 1;\r\n\r\n    for (var player in $.fn.media.defaults.players) {\r\n        var types = $.fn.media.defaults.players[player].types;\r\n        $.each(types.split(','), function(i,o) {\r\n            if (isDigit(o[0])) o = 'fn' + o;\r\n            $.fn.media[o] = $.fn.media[player] = getGenerator(player);\r\n            $.fn.media[o+'_player'] = $.fn.media.defaults.players[player];\r\n        });\r\n    }\r\n\r\n    function getTypesRegExp() {\r\n        var types = '';\r\n        for (var player in $.fn.media.defaults.players) {\r\n            if (types.length) types += ',';\r\n            types += $.fn.media.defaults.players[player].types;\r\n        }\r\n        return new RegExp('\\\\.(' + types.replace(/,/ig,'|') + ')\\\\b');\r\n    }\r\n\r\n    function getGenerator(player) {\r\n        return function(el, options) {\r\n            return generate(el, options, player);\r\n        };\r\n    }\r\n\r\n    function isDigit(c) {\r\n        return '0123456789'.indexOf(c) > -1;\r\n    }\r\n\r\n// flatten all possible options: global defaults, meta, option obj\r\n    function getSettings(el, options) {\r\n        options = options || {};\r\n        var a, n;\r\n        var $el = $(el);\r\n        var cls = el.className || '';\r\n        // support metadata plugin (v1.0 and v2.0)\r\n        var meta = $.metadata ? $el.metadata() : $.meta ? $el.data() : {};\r\n        meta = meta || {};\r\n        var w = meta.width  || parseInt(((cls.match(/\\bw:(\\d+)/)||[])[1]||0),10) || parseInt(((cls.match(/\\bwidth:(\\d+)/)||[])[1]||0),10);\r\n        var h = meta.height || parseInt(((cls.match(/\\bh:(\\d+)/)||[])[1]||0),10) || parseInt(((cls.match(/\\bheight:(\\d+)/)||[])[1]||0),10);\r\n\r\n        if (w) meta.width = w;\r\n        if (h) meta.height = h;\r\n        if (cls) meta.cls = cls;\r\n\r\n        // crank html5 style data attributes\r\n        var dataName = 'data-';\r\n        for (var i=0; i < el.attributes.length; i++) {\r\n            a = el.attributes[i], n = $.trim(a.name);\r\n            var index = n.indexOf(dataName);\r\n            if (index === 0) {\r\n                n = n.substring(dataName.length);\r\n                meta[n] = a.value;\r\n            }\r\n        }\r\n\r\n        a = $.fn.media.defaults;\r\n        var b = options;\r\n        var c = meta;\r\n\r\n        var p = { params: { bgColor: options.bgColor || $.fn.media.defaults.bgColor } };\r\n        var opts = $.extend({}, a, b, c);\r\n        $.each(['attrs','params','flashvars','silverlight'], function(i,o) {\r\n            opts[o] = $.extend({}, p[o] || {}, a[o] || {}, b[o] || {}, c[o] || {});\r\n        });\r\n\r\n        if (typeof opts.caption == 'undefined') opts.caption = $el.text();\r\n\r\n        // make sure we have a source!\r\n        opts.src = opts.src || $el.attr('href') || $el.attr('src') || 'unknown';\r\n        return opts;\r\n    }\r\n\r\n//\r\n//\tFlash Player\r\n//\r\n\r\n// generate flash using SWFObject library if possible\r\n    $.fn.media.swf = function(el, opts) {\r\n        var f, p;\r\n        if (!window.SWFObject && !window.swfobject) {\r\n            // roll our own\r\n            if (opts.flashvars) {\r\n                var a = [];\r\n                for (f in opts.flashvars)\r\n                    a.push(f + '=' + opts.flashvars[f]);\r\n                if (!opts.params) opts.params = {};\r\n                opts.params.flashvars = a.join('&');\r\n            }\r\n            return generate(el, opts, 'flash');\r\n        }\r\n\r\n        var id = el.id ? (' id=\"'+el.id+'\"') : '';\r\n        var cls = opts.cls ? (' class=\"' + opts.cls + '\"') : '';\r\n        var $div = $('<div' + id + cls + '>');\r\n\r\n        // swfobject v2+\r\n        if (window.swfobject) {\r\n            $(el).after($div).appendTo($div);\r\n            if (!el.id) el.id = 'movie_player_' + counter++;\r\n\r\n            // replace el with swfobject content\r\n            window.swfobject.embedSWF(opts.src, el.id, opts.width, opts.height, opts.flashVersion,\r\n                opts.expressInstaller, opts.flashvars, opts.params, opts.attrs);\r\n        }\r\n        // swfobject < v2\r\n        else {\r\n            $(el).after($div).remove();\r\n            var so = new SWFObject(opts.src, 'movie_player_' + counter++, opts.width, opts.height, opts.flashVersion, opts.bgColor);\r\n            if (opts.expressInstaller) so.useExpressInstall(opts.expressInstaller);\r\n\r\n            for (p in opts.params)\r\n                if (p != 'bgColor') so.addParam(p, opts.params[p]);\r\n            for (f in opts.flashvars)\r\n                so.addVariable(f, opts.flashvars[f]);\r\n            so.write($div[0]);\r\n        }\r\n\r\n        if (opts.caption) $('<div>').appendTo($div).html(opts.caption);\r\n        return $div;\r\n    };\r\n\r\n// map flv and mp3 files to the swf player by default\r\n    $.fn.media.flv = $.fn.media.mp3 = function(el, opts) {\r\n        var src = opts.src;\r\n        var player = /\\.mp3\\b/i.test(src) ? opts.mp3Player : opts.flvPlayer;\r\n        var key = opts.flvKeyName;\r\n        src = encodeURIComponent(src);\r\n        opts.src = player;\r\n        opts.src = opts.src + '?'+key+'=' + (src);\r\n        var srcObj = {};\r\n        srcObj[key] = src;\r\n        opts.flashvars = $.extend({}, srcObj, opts.flashvars );\r\n        return $.fn.media.swf(el, opts);\r\n    };\r\n\r\n//\r\n//\tSilverlight\r\n//\r\n    $.fn.media.xaml = function(el, opts) {\r\n        if (!window.Sys || !window.Sys.Silverlight) {\r\n            if ($.fn.media.xaml.warning) return;\r\n            $.fn.media.xaml.warning = 1;\r\n            alert('You must include the Silverlight.js script.');\r\n            return;\r\n        }\r\n\r\n        var props = {\r\n            width: opts.width,\r\n            height: opts.height,\r\n            background: opts.bgColor,\r\n            inplaceInstallPrompt: opts.silverlight.inplaceInstallPrompt,\r\n            isWindowless: opts.silverlight.isWindowless,\r\n            framerate: opts.silverlight.framerate,\r\n            version: opts.silverlight.version\r\n        };\r\n        var events = {\r\n            onError: opts.silverlight.onError,\r\n            onLoad: opts.silverlight.onLoad\r\n        };\r\n\r\n        var id1 = el.id ? (' id=\"'+el.id+'\"') : '';\r\n        var id2 = opts.id || 'AG' + counter++;\r\n        // convert element to div\r\n        var cls = opts.cls ? (' class=\"' + opts.cls + '\"') : '';\r\n        var $div = $('<div' + id1 + cls + '>');\r\n        $(el).after($div).remove();\r\n\r\n        Sys.Silverlight.createObjectEx({\r\n            source: opts.src,\r\n            initParams: opts.silverlight.initParams,\r\n            userContext: opts.silverlight.userContext,\r\n            id: id2,\r\n            parentElement: $div[0],\r\n            properties: props,\r\n            events: events\r\n        });\r\n\r\n        if (opts.caption) $('<div>').appendTo($div).html(opts.caption);\r\n        return $div;\r\n    };\r\n\r\n//\r\n// generate object/embed markup\r\n//\r\n    function generate(el, opts, player) {\r\n        var $el = $(el);\r\n        var o = $.fn.media.defaults.players[player];\r\n        var a, key, v;\r\n\r\n        if (player == 'iframe') {\r\n            o = $('<iframe' + ' width=\"' + opts.width + '\" height=\"' + opts.height + '\" >');\r\n            o.attr('src', opts.src);\r\n            o.css('backgroundColor', o.bgColor);\r\n        }\r\n        else if (player == 'img') {\r\n            o = $('<img>');\r\n            o.attr('src', opts.src);\r\n            if (opts.width)\r\n                o.attr('width', opts.width);\r\n            if (opts.height)\r\n                o.attr('height', opts.height);\r\n            o.css('backgroundColor', o.bgColor);\r\n        }\r\n        else if (lameIE) {\r\n            a = ['<object width=\"' + opts.width + '\" height=\"' + opts.height + '\" '];\r\n            for (key in opts.attrs)\r\n                a.push(key + '=\"'+opts.attrs[key]+'\" ');\r\n            for (key in o.ieAttrs || {}) {\r\n                v = o.ieAttrs[key];\r\n                if (key == 'codebase' && window.location.protocol == 'https:')\r\n                    v = v.replace('http','https');\r\n                a.push(key + '=\"'+v+'\" ');\r\n            }\r\n            a.push('></ob'+'ject'+'>');\r\n            var p = ['<param name=\"' + (o.oUrl || 'src') +'\" value=\"' + opts.src + '\">'];\r\n            for (key in opts.params)\r\n                p.push('<param name=\"'+ key +'\" value=\"' + opts.params[key] + '\">');\r\n            o = document.createElement(a.join(''));\r\n            for (var i=0; i < p.length; i++)\r\n                o.appendChild(document.createElement(p[i]));\r\n        }\r\n        else if (opts.standards) {\r\n            // Rewritten to be standards compliant by Richard Connamacher\r\n            a = ['<object type=\"' + o.mimetype +'\" width=\"' + opts.width + '\" height=\"' + opts.height +'\"'];\r\n            if (opts.src) a.push(' data=\"' + opts.src + '\" ');\r\n            if (msie) {\r\n                for (key in o.ieAttrs || {}) {\r\n                    v = o.ieAttrs[key];\r\n                    if (key == 'codebase' && window.location.protocol == 'https:')\r\n                        v = v.replace('http','https');\r\n                    a.push(key + '=\"'+v+'\" ');\r\n                }\r\n            }\r\n            a.push('>');\r\n            a.push('<param name=\"' + (o.oUrl || 'src') +'\" value=\"' + opts.src + '\">');\r\n            for (key in opts.params) {\r\n                if (key == 'wmode' && player != 'flash') // FF3/Quicktime borks on wmode\r\n                    continue;\r\n                a.push('<param name=\"'+ key +'\" value=\"' + opts.params[key] + '\">');\r\n            }\r\n            // Alternate HTML\r\n            a.push('<div><p><strong>'+o.title+' Required</strong></p><p>'+o.title+' is required to view this media. <a href=\"'+o.pluginspage+'\">Download Here</a>.</p></div>');\r\n            a.push('</ob'+'ject'+'>');\r\n        }\r\n        else {\r\n            a = ['<embed width=\"' + opts.width + '\" height=\"' + opts.height + '\" style=\"display:block\"'];\r\n            if (opts.src) a.push(' src=\"' + opts.src + '\" ');\r\n            for (key in opts.attrs)\r\n                a.push(key + '=\"'+opts.attrs[key]+'\" ');\r\n            for (key in o.eAttrs || {})\r\n                a.push(key + '=\"'+o.eAttrs[key]+'\" ');\r\n            for (key in opts.params) {\r\n                if (key == 'wmode' && player != 'flash') // FF3/Quicktime borks on wmode\r\n                    continue;\r\n                a.push(key + '=\"'+opts.params[key]+'\" ');\r\n            }\r\n            a.push('></em'+'bed'+'>');\r\n        }\r\n        // convert element to div\r\n        var id = el.id ? (' id=\"'+el.id+'\"') : '';\r\n        var cls = opts.cls ? (' class=\"' + opts.cls + '\"') : '';\r\n        var $div = $('<div' + id + cls + '>');\r\n        $el.after($div).remove();\r\n        if (lameIE || player == 'iframe' || player == 'img')\r\n            $div.append(o);\r\n        else\r\n            $div.html(a.join(''));\r\n\r\n        if (opts.caption)\r\n            $('<div>').appendTo($div).html(opts.caption);\r\n        return $div;\r\n    }\r\n\r\n\r\n})(jQuery);\r\n"]}