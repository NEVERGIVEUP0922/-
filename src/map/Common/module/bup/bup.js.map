{"version":3,"sources":["Common/module/bup/bup.js"],"names":["$","fn","BUP","brother","beishu","$class1","$brother","$element","this","$className","attr","is","$IMAGE_URL","$brotherSrc","NATIVE_IMG","width","height","Image","src","$options","round","background","shadow","border","cursor","zIndex","on","e","preventDefault","css","lens","document","createElement","id","append","$blowupLens","position","visibility","pointer-events","border-radius","box-shadow","background-repeat","mouseenter","mousemove","bgSize","lensX","pageX","lensY","pageY","relX","offsetX","relY","offsetY","zoomX","Math","floor","zoomY","onmousewheel","event","window","wheelDelta","console","log","left","top","background-image","background-position","background-size","parent","mouseleave"],"mappings":"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","file":"../../../../../temporaryJs/Common/module/bup/bup.js","sourcesContent":["//$(function ($) {\r\n\r\n$.fn.BUP = function (brother,beishu) {\r\n    var $element = this;\r\n    var $className = $element.attr(\"class\");\r\n    var $class1,$brother //class 与 beother 变量\r\n    // If the target element is not an image\r\n    if (!$element.is(\"img\")) {\r\n        console.log(\"%c Blowup.js Error: \" + \"%cTarget element is not an image.\",\r\n            \"background: #FCEBB6; color: #F07818; font-size: 17px; font-weight: bold;\",\r\n            \"background: #FCEBB6; color: #F07818; font-size: 17px;\");\r\n        return;\r\n    }\r\n\r\n    // Constants\r\n    var $IMAGE_URL    = $element.attr(\"src\");\r\n    var $brotherSrc = $(\".\"+brother).attr(\"src\");\r\n    var $IMAGE_WIDTH  = $element.width();\r\n    var $IMAGE_HEIGHT = $element.height();\r\n    var NATIVE_IMG    = new Image();\r\n    NATIVE_IMG.src    = $element.attr(\"src\");\r\n    //NATIVE_IMG.width = \"900\";\r\n    //NATIVE_IMG.height = \"900\";\r\n\r\n\r\n    // Default attributes\r\n    var defaults = {\r\n        round      : true,\r\n        width      : 200,\r\n        height     : 200,\r\n        background : \"#FFF\",\r\n        shadow     : \"0 8px 17px 0 rgba(0, 0, 0, 1)\",\r\n        border     : \"6px solid #FFF\",\r\n        cursor     : true,\r\n        zIndex     : 999999\r\n    }\r\n\r\n    // Update defaults with custom attributes\r\n    var $options = defaults;\r\n\r\n    // Modify target image\r\n    $element.on('dragstart', function (e) { e.preventDefault(); });\r\n    $element.css(\"cursor\", $options.cursor ? \"crosshair\" : \"none\");\r\n\r\n    // Create magnification lens element\r\n    var lens = document.createElement(\"div\");\r\n    lens.id = \"\"+$className+\"BlowupLens\";\r\n\r\n    // Attack the element to the body\r\n    $(\"body\").append(lens);\r\n\r\n    // Updates styles\r\n    $blowupLens = $(\"#\"+lens.id);\r\n\r\n    $blowupLens.css({\r\n        \"position\"          : \"absolute\",\r\n        \"visibility\"        : \"hidden\",\r\n        \"pointer-events\"    : \"none\",\r\n        \"zIndex\"            : $options.zIndex,\r\n        \"width\"             : $options.width,\r\n        \"height\"            : $options.height,\r\n        \"border\"            : $options.border,\r\n        \"background\"        : $options.background,\r\n        \"border-radius\"     : $options.round ? \"50%\" : \"none\",\r\n        \"box-shadow\"        : $options.shadow,\r\n        \"background-repeat\" : \"no-repeat\",\r\n    });\r\n\r\n    // Show magnification lens\r\n    $element.mouseenter(function () {\r\n        $class1 = $element.attr(\"class\");\r\n        $blowupLens = $(\"#\"+$class1+\"BlowupLens\");\r\n        $blowupLens.css(\"visibility\", \"visible\");\r\n        $brother = $(\"#\"+brother+\"BlowupLens\");\r\n        $brother.css(\"visibility\", \"visible\");\r\n    })\r\n\r\n    // Mouse motion on image\r\n    $element.mousemove(function (e) {\r\n        /*$blowupLens = $(\"#\"+$class1+\"BlowupLens\");\r\n        $brother = $(\"#\"+brother+\"BlowupLens\");*/\r\n        // Lens position coordinates\r\n        var lensX = e.pageX - $options.width / 2;\r\n        var lensY = e.pageY - $options.height / 2;\r\n        // Relative coordinates of image\r\n        var relX = e.offsetX;\r\n        var relY = e.offsetY;\r\n        // Zoomed image coordinates\r\n        var zoomX = -Math.floor(relX / $element.width() * NATIVE_IMG.width - $options.width / 2);\r\n        var zoomY = -Math.floor(relY / $element.height() * NATIVE_IMG.height - $options.height / 2);\r\n        var bgSize;\r\n        switch(beishu){\r\n            case 0.5:\r\n                zoomX = zoomX+(zoomX*beishu);\r\n                zoomY = zoomY+(zoomY*beishu);\r\n                bgSize =400*2.5;\r\n                break;\r\n            case 1.5:\r\n                zoomX = zoomX+(zoomX*beishu);\r\n                zoomY = zoomY+(zoomY*beishu);\r\n                bgSize =400*3.5;\r\n                break;\r\n            default:\r\n                bgSize = NATIVE_IMG.width;\r\n        }\r\n        // 尝试使用滚轮控制放大\r\n        document.onmousewheel = function (e) {\r\n            e = event || window.event;\r\n            if(e.wheelDelta === 120){\r\n                zoomX = zoomX+(zoomX*0.5);\r\n                zoomY = zoomY+(zoomY*0.5);\r\n                bgSize =400*2.5;\r\n                console.log(\"Q\")\r\n            }\r\n            if(e.wheelDelta === -120){\r\n                console.log(\"Hou\")\r\n            }\r\n\r\n        }\r\n        //尝试结束\r\n        // Apply styles to lens\r\n        $blowupLens.css({\r\n            left                  : lensX,\r\n            top                   : lensY,\r\n            \"background-image\"    : \"url(\" + $IMAGE_URL + \")\",\r\n            \"background-position\" : zoomX + \"px \" + zoomY +\"px\",\r\n            \"background-size\"  : bgSize+\"px\"\r\n        });\r\n        // 此处if else 待优化逻辑。↓\r\n        if(brother == \"rightImg\"){\r\n            $brother.css({\r\n                left                  : lensX + $element.parent().width(),\r\n                top                   : lensY,\r\n                \"background-image\"    : \"url(\" + $brotherSrc + \")\",\r\n                \"background-position\" : zoomX + \" \" + zoomY,\r\n                \"background-size\"  : bgSize\r\n            });\r\n        }else if(brother == \"laftImg\"){\r\n            $brother.css({\r\n                left                  : lensX - $element.parent().width(),\r\n                top                   : lensY,\r\n                \"background-image\"    : \"url(\" + $brotherSrc + \")\",\r\n                \"background-position\" : zoomX + \" \" + zoomY,\r\n                \"background-size\"  : bgSize\r\n            });\r\n        }\r\n\r\n    })\r\n\r\n    // 鼠标移除\r\n    $element.mouseleave(function () {\r\n        document.onmousewheel = null;\r\n        /*$blowupLens = $(\"#\"+$class1+\"BlowupLens\");*/\r\n        $blowupLens.css(\"visibility\", \"hidden\");\r\n        /*$brother = $(\"#\"+brother+\"BlowupLens\");*/\r\n        $brother.css(\"visibility\", \"hidden\");\r\n    })\r\n\r\n}\r\n//})\r\n"]}