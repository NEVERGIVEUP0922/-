{"version":3,"sources":["Admin/Public/js/address-select.js"],"names":["layui","define","exports","DISTRICT","district","address","handleDistrict","form","init","$container","code","index1","index2","index3","address_data","getData","$first","find","$second","$third","$input","mark","data","first_option","$","each","index","value","name","html","on","cell","buildSecondHtml","val","buildThirdHtml","render","active","second_option","third_option","getProvince","getCity"],"mappings":"AAAA,aAEAA,MAAMC,OAAO,CAAC,WAAY,iBAAkB,QAAS,SAAUC,GAC3D,IAAIC,EAAWH,MAAMI,SACjBC,EAAUL,MAAMM,eAChBC,EAAOP,MAAMO,KACjBL,EAAQ,gBAAiB,CACrBM,KAAM,SAAcC,EAAYC,GAE5B,IAgBIC,EAYAC,EAWAC,EAvCAC,EAAeT,EAAQU,QAAQL,GAE/BM,EAASP,EAAWQ,KAAK,oBACzBC,EAAUT,EAAWQ,KAAK,qBAC1BE,EAASV,EAAWQ,KAAK,oBACzBG,EAASX,EAAWQ,KAAK,sBACzBI,EAAOZ,EAAWa,KAAK,QACvBC,EAAe,gCACnBC,EAAEC,KAAKtB,EAAU,SAAUuB,EAAOC,GAC1BA,EAAMC,OAASd,EAAa,GAC5BS,GAAgB,kBAAoBG,EAAQ,cAAgBC,EAAMC,KAAO,YAEzEL,GAAgB,kBAAoBG,EAAQ,KAAOC,EAAMC,KAAO,cAGxEZ,EAAOa,KAAKN,GAEZhB,EAAKuB,GAAG,UAAaT,EAAO,UAAiB,SAAUC,GACnDX,EAASW,EAAKK,MACVxB,EAASQ,GAAQoB,MACjBC,EAAgB7B,EAASQ,GAAQoB,MACjCX,EAAOa,IAAI9B,EAASQ,GAAQD,OAE5BsB,EAAgB,IAEpBE,EAAe,IACf3B,EAAK4B,OAAO,YAGhB5B,EAAKuB,GAAG,UAAaT,EAAO,WAAkB,SAAUC,GACpDV,EAASU,EAAKK,MACVhB,GAAUC,GAAUT,EAASQ,GAAQoB,KAAKnB,GAAQmB,MAClDG,EAAe/B,EAASQ,GAAQoB,KAAKnB,GAAQmB,MAC7CX,EAAOa,IAAI9B,EAASQ,GAAQoB,KAAKnB,GAAQF,OAEzCwB,EAAe,IAEnB3B,EAAK4B,OAAO,YAGhB5B,EAAKuB,GAAG,UAAaT,EAAO,UAAiB,SAAUC,GACnDT,EAASS,EAAKK,MACVhB,GAAUC,GAAUC,GAAUV,EAASQ,GAAQoB,KAAKnB,GAAQmB,KAAKlB,IACjEO,EAAOa,IAAI9B,EAASQ,GAAQoB,KAAKnB,GAAQmB,KAAKlB,GAAQH,QAG9D,IAAIsB,EAAkB,SAAyBV,EAAMc,GACjD,IAAIC,EAAgB,gCACpBb,EAAEC,KAAKH,EAAM,SAAUI,EAAOC,GACtBS,GAAUA,IAAWT,EAAMC,KAC3BS,GAAiB,kBAAoBX,EAAQ,cAAgBC,EAAMC,KAAO,YAE1ES,GAAiB,kBAAoBX,EAAQ,KAAOC,EAAMC,KAAO,cAGzEV,EAAQW,KAAKQ,IAEbH,EAAiB,SAAwBZ,EAAMc,GAC/C,IAAIE,EAAe,gCACnBd,EAAEC,KAAKH,EAAM,SAAUI,EAAOC,GACtBS,GAAUA,IAAWT,EAAMC,KAC3BU,GAAgB,kBAAoBZ,EAAQ,cAAgBC,EAAMC,KAAO,YAEzEU,GAAgB,kBAAoBZ,EAAQ,KAAOC,EAAMC,KAAO,cAGxET,EAAOU,KAAKS,IAGZ5B,IACAU,EAAOa,IAAIvB,GACPI,EAAa,GACbkB,EAAgB3B,EAAQkC,YAAY7B,GAAMqB,KAAMjB,EAAa,IAE7DkB,EAAgB,IAEhBlB,EAAa,GACboB,EAAe7B,EAAQmC,QAAQ9B,GAAMqB,KAAMjB,EAAa,IAExDoB,EAAe,KAGvB3B,EAAK4B,OAAO","file":"../../../../../temporaryJs/Admin/Public/js/address-select.js","sourcesContent":["'use strict';\n\nlayui.define(['district', 'handleDistrict', 'form'], function (exports) {\n    var DISTRICT = layui.district;\n    var address = layui.handleDistrict;\n    var form = layui.form;\n    exports(\"addressSelect\", {\n        init: function init($container, code) {\n            //初始化地址导入\n            var address_data = address.getData(code);\n            //html初始化\n            var $first = $container.find('.js-select-first');\n            var $second = $container.find('.js-select-second');\n            var $third = $container.find('.js-select-third');\n            var $input = $container.find('.js-selector-input');\n            var mark = $container.data('mark');\n            var first_option = '<option value=\"\">请选择</option>';\n            $.each(DISTRICT, function (index, value) {\n                if (value.name === address_data[0]) {\n                    first_option += '<option value=\"' + index + '\" selected>' + value.name + '</option>';\n                } else {\n                    first_option += '<option value=\"' + index + '\">' + value.name + '</option>';\n                }\n            });\n            $first.html(first_option);\n            var index1;\n            form.on('select(' + (mark + '-first') + ')', function (data) {\n                index1 = data.value;\n                if (DISTRICT[index1].cell) {\n                    buildSecondHtml(DISTRICT[index1].cell);\n                    $input.val(DISTRICT[index1].code);\n                } else {\n                    buildSecondHtml([]);\n                }\n                buildThirdHtml([]);\n                form.render('select');\n            });\n            var index2;\n            form.on('select(' + (mark + '-second') + ')', function (data) {\n                index2 = data.value;\n                if (index1 && index2 && DISTRICT[index1].cell[index2].cell) {\n                    buildThirdHtml(DISTRICT[index1].cell[index2].cell);\n                    $input.val(DISTRICT[index1].cell[index2].code);\n                } else {\n                    buildThirdHtml([]);\n                }\n                form.render('select');\n            });\n            var index3;\n            form.on('select(' + (mark + '-third') + ')', function (data) {\n                index3 = data.value;\n                if (index1 && index2 && index3 && DISTRICT[index1].cell[index2].cell[index3]) {\n                    $input.val(DISTRICT[index1].cell[index2].cell[index3].code);\n                }\n            });\n            var buildSecondHtml = function buildSecondHtml(data, active) {\n                var second_option = '<option value=\"\">请选择</option>';\n                $.each(data, function (index, value) {\n                    if (active && active === value.name) {\n                        second_option += '<option value=\"' + index + '\" selected>' + value.name + '</option>';\n                    } else {\n                        second_option += '<option value=\"' + index + '\">' + value.name + '</option>';\n                    }\n                });\n                $second.html(second_option);\n            };\n            var buildThirdHtml = function buildThirdHtml(data, active) {\n                var third_option = '<option value=\"\">请选择</option>';\n                $.each(data, function (index, value) {\n                    if (active && active === value.name) {\n                        third_option += '<option value=\"' + index + '\" selected>' + value.name + '</option>';\n                    } else {\n                        third_option += '<option value=\"' + index + '\">' + value.name + '</option>';\n                    }\n                });\n                $third.html(third_option);\n            };\n            //触发初始化数据\n            if (code) {\n                $input.val(code);\n                if (address_data[1]) {\n                    buildSecondHtml(address.getProvince(code).cell, address_data[1]);\n                } else {\n                    buildSecondHtml([]);\n                }\n                if (address_data[2]) {\n                    buildThirdHtml(address.getCity(code).cell, address_data[2]);\n                } else {\n                    buildThirdHtml([]);\n                }\n            }\n            form.render('select');\n        }\n    });\n});"]}