{"version":3,"sources":["Admin/Public/js/first-letter-search.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","response_data","objectElement_self","selfClass","selfUrl","urlList","customer","product","admin","vm","p_sign","initial","objectElement","callback","$this","timer_array","$","each","index","item","clear","on","change","_this","this","clearTimeout","timer","setTimeout","siblings","val","keydown","e","keynum","__this","window","event","keyCode","which","keypdown_timer","keydown_timer","self_index","autocomplete","source","minLength","onlyOne","close","ui","select","value","id","JSON","parse","indexOf","fn","isArray","length","response","data","content","push","initInput","selectObj","Error","key"],"mappings":"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","file":"../../../../../temporaryJs/Admin/Public/js/first-letter-search.js","sourcesContent":["\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n//搜索输入拼音首字母自动补全\nvar response_data = [];\nvar objectElement_self = [{ \"selfClass\": \".layui-form-label-pinyin-customer\", \"selfUrl\": \"/Admin/Customer/companyPinyinSearch\" }];\n//客户首字母\n//customer---客户\n//product---产品\n//admin---业务员\n//p_sign---品牌\n//vm---产品负责人\nvar urlList = { \"customer\": \"/Admin/Customer/companyPinyinSearch\", \"product\": \"/Admin/Product/productList?autoComplete=autoComplete\",\n    \"admin\": \"/Admin/Customer/adminPinyinSearch\", \"vm\": \"/Admin/Customer/adminPinyinSearch\", \"p_sign\": \"/Admin/Customer/adminPinyinSearch\" };\nfunction initial(objectElement, callback) {\n    var timer_array = [];\n    var $this;\n    $.each(objectElement, function (index, item) {\n        timer_array[index] = { \"clear\": true };\n        $(item.selfClass).on({\n            \"change\": function change() {\n                //console.log(12);\n                var _this = this;\n                clearTimeout(timer_array[index].timer);\n                timer_array[index].timer = setTimeout(function () {\n                    if (timer_array[index].clear) $(_this).siblings(\"input\").val('');\n                }, 600);\n            },\n            \"keydown\": function keydown(e) {\n                // console.log(34);\n                var keynum;\n                var __this = this;\n                $this = $(__this);\n                if (window.event) {\n                    // IE\n                    keynum = e.keyCode;\n                } else if (e.which) {\n                    // Netscape/Firefox/Opera\n                    keynum = e.which;\n                }\n                clearTimeout(timer_array[index].keypdown_timer);\n                if (keynum == 8) {\n                    timer_array[index].keydown_timer = setTimeout(function () {\n                        $(__this).siblings(\"input\").val('');\n                    }, 600);\n                }\n            }\n        });\n        // console.log(item);\n        var self_index = index;\n        $(item.selfClass).autocomplete({\n            source: item.selfUrl,\n            minLength: item.onlyOne ? 1 : 2,\n            close: function close(event, ui) {},\n            select: function select(event, ui) {\n                // console.log(\"select\");\n                timer_array[self_index][\"clear\"] = false;\n                //var $this = $( item.selfClass);\n                var value = ui.item.value;\n                var timer;\n                var id = JSON.parse($(\"#autoComplete_index_data\").val());\n                var index = response_data.indexOf(value);\n                $this.val(value).siblings(\"input\").val(id[index]);\n                //console.log('test',value,id[index],callback);\n                if (item.fn) {\n                    item.fn(value, id[index]);\n                };\n                if ($.isArray(callback)) {\n                    if (callback.length > 0) {\n                        if (callback[index]) callback[index](value, id[index]);\n                    };\n                };\n                timer = setTimeout(function () {\n\n                    response_data = [];clearTimeout(timer);\n                }, 0);\n            },\n            response: function response(event, data) {\n                //console.log(\"response\");\n                response_data = [];\n                $.each(data.content, function (item, value) {\n                    response_data.push(value.value);\n                });\n            }\n        });\n    });\n}\nfunction initInput(selectObj, callback) {\n    if ((typeof selectObj === \"undefined\" ? \"undefined\" : _typeof(selectObj)) != \"object\") {\n        throw new Error(\"第一个参数必须为对象\");\n        alert(\"第一个参数必须为对象\");\n        return;\n    }\n    //console.log(\"你好\");\n    objectElement_self = [];\n    for (var key in selectObj) {\n        switch (key) {\n            case \"admin\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-admin\",\n                    \"selfUrl\": \"/Admin/Customer/adminPinyinSearch\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            case \"customer\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-customer\",\n                    \"selfUrl\": \"/Admin/Customer/companyPinyinSearch\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            case \"product\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-product\",\n                    \"selfUrl\": \"//Admin/Product/productList?autoComplete=autoComplete\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            case \"vm\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-vm\",\n                    \"selfUrl\": \"/Admin/Sysuser/productLiablePersionList?autoComplete=autoComplete\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            case \"p_sign\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-p_sign\",\n                    \"selfUrl\": \"/Admin/Product/brandList?autoComplete=autoComplete\",\n                    \"onlyOne\": \"1\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            case \"package\":\n                objectElement_self.push({\n                    \"selfClass\": selectObj[key] || \".layui-form-label-pinyin-package\",\n                    \"selfUrl\": \"/Admin/Product/productPackageList?autoComplete=autoComplete\",\n                    fn: callback ? callback[key] : \"\"\n                });\n                break;\n            default:\n        }\n    }\n    ;\n    initial(objectElement_self, callback);\n}"]}