"use strict";define(["jquery","Toolkit/district","Toolkit/handle-district","css!Home/Public/css/select_address.css"],function(h,e,x){return{init:function(l,e,i){var t=x.getData(e),c=l.find(".js-select-first"),n=l.find(".js-select-second"),a=l.find(".js-select-third"),s=l.find(".js-selector-input"),d="";h.each(DISTRICT,function(e,l){l.name===t[0]?d+='<li class="lj-active-li" data-index="'+e+'">'+l.name+"</li>":d+='<li data-index="'+e+'">'+l.name+"</li>"}),c.children(".lj-option-box").html(d),l.find(".jl-y-select-title").on("click",function(){var e=h(this);e.parent().hasClass("jl-y-select-active")?e.parent().removeClass("jl-y-select-active"):(l.find(".jl-y-select").removeClass("jl-y-select-active"),e.parent().addClass("jl-y-select-active"))}),c.find(".lj-option-box").on("click","li",function(){var e=h(this),l=e.data("index");e.addClass("lj-active-li").siblings().removeClass("lj-active-li"),c.removeClass("jl-y-select-active").children(".jl-y-select-title").children(".jl-c-c").text(e.text()),DISTRICT[l].cell?(n.show(),a.show(),o(DISTRICT[l].cell),n.children(".jl-y-select-title").children(".jl-c-c").text("请选择"),a.children(".jl-y-select-title").children(".jl-c-c").text("请选择"),""!==s.val()&&(s.val("").next("input").val(""),s.change())):(s.val(DISTRICT[l].code).next("input").val(DISTRICT[l].name),s.change(),n.hide(),a.hide())});var o=function(e,i){var t="";h.each(e,function(e,l){i&&i===l.name?t+='<li class="lj-active-li" data-index="'+e+'">'+l.name+"</li>":t+='<li data-index="'+e+'">'+l.name+"</li>"}),n.children(".lj-option-box").html(t)};n.find(".lj-option-box").on("click","li",function(){var e=h(this),l=c.find(".lj-active-li").data("index"),i=e.data("index");e.addClass("lj-active-li").siblings().removeClass("lj-active-li"),n.removeClass("jl-y-select-active").children(".jl-y-select-title").children(".jl-c-c").text(e.text()),DISTRICT[l].cell[i].cell?(a.show(),v(DISTRICT[l].cell[i].cell),a.children(".jl-y-select-title").children(".jl-c-c").text("请选择"),""!==s.val()&&(s.val("").next("input").val(""),s.change())):(a.hide(),s.val(DISTRICT[l].cell[i].code).next("input").val(DISTRICT[l].name+" "+DISTRICT[l].cell[i].name),s.change())});var v=function(e,i){var t="";h.each(e,function(e,l){i&&i===l.name?t+='<li class="lj-active-li" data-index="'+e+'">'+l.name+"</li>":t+='<li data-index="'+e+'">'+l.name+"</li>"}),a.children(".lj-option-box").html(t)};if(a.find(".lj-option-box").on("click","li",function(){var e=h(this),l=c.find(".lj-active-li").data("index"),i=n.find(".lj-active-li").data("index"),t=e.data("index");e.addClass("lj-active-li").siblings().removeClass("lj-active-li"),s.val(DISTRICT[l].cell[i].cell[t].code).next("input").val(DISTRICT[l].name+" "+DISTRICT[l].cell[i].name+" "+DISTRICT[l].cell[i].cell[t].name),s.change(),a.removeClass("jl-y-select-active").children(".jl-y-select-title").children(".jl-c-c").text(e.text())}),e){if(s.val(e).next("input").val(i),c.find(".jl-y-select-title").children("span").text(t[0]),t[1]){n.find(".jl-y-select-title").children("span").text(t[1]);var r=x.getProvince(e);o(r.cell,t[1])}else n.hide();if(t[2]){a.find(".jl-y-select-title").children("span").text(t[2]);var j=x.getCity(e);v(j.cell,t[2])}else a.hide()}}}});